# 3D玻璃球 iOS应用使用说明

## 应用介绍
这是一个物理交互式iOS应用，展示8个质感通透的玻璃球在重力作用下的碰撞、反弹效果，并通过陀螺仪实时响应手机旋转。

## 主要功能
- **物理模拟**: 8个玻璃球具有真实的物理属性（重力、碰撞、反弹、摩擦）
- **陀螺仪感应**: 根据手机旋转角度实时调整重力方向
- **玻璃质感**: 使用径向渐变和高光效果模拟玻璃材质
- **触摸交互**: 点击玻璃球可以给予冲击力

## 如何在iOS设备上运行

### 方式一：在Xcode中创建项目
1. 打开Xcode，选择 "Create a new Xcode project"
2. 选择 iOS → App
3. 填写项目信息：
   - Product Name: `GlassBalls`
   - Interface: SwiftUI
   - Language: Swift
4. 创建项目后，将以下文件添加到项目中：
   - `GlassBallsApp.swift` (替换默认的App文件)
   - `GlassBallsView.swift`
   - `GlassBallsScene.swift`
   - `Info.plist` (合并权限配置)
5. 连接iOS设备
6. 选择你的设备作为运行目标
7. 点击运行按钮（▶️）

### 方式二：集成到现有Card3D项目
如果想集成到现有的Card3D项目中：
1. 将 `GlassBallsScene.swift` 和 `GlassBallsView.swift` 复制到Card3D项目
2. 在 `Info.plist` 中添加陀螺仪权限：`NSMotionUsageDescription`
3. 在 `ContentView.swift` 中添加导航到 `GlassBallsView` 的按钮

## 技术实现

### 核心技术栈
- **SwiftUI**: 用户界面框架
- **SpriteKit**: 2D游戏引擎，提供物理引擎
- **CoreMotion**: 陀螺仪和加速度计数据

### 物理参数说明
```swift
restitution: 0.8      // 反弹系数（0-1），越大反弹越高
friction: 0.2         // 摩擦系数（0-1），影响滚动和碰撞
linearDamping: 0.1    // 线性阻尼，模拟空气阻力
angularDamping: 0.1   // 角度阻尼，影响旋转减速
gravityScale: 9.8     // 重力加速度倍数
```

### 玻璃质感实现
- 径向渐变：从中心到边缘的透明度渐变
- 高光效果：添加白色半透明圆形模拟光线反射
- 边框光晕：使用 `glowWidth` 属性增强玻璃边缘效果
- 模糊滤镜：对高光应用高斯模糊

## 交互方式
1. **旋转手机**: 玻璃球会根据重力方向滚动和掉落
2. **点击玻璃球**: 给予随机方向的冲击力
3. **倾斜手机**: 观察玻璃球的碰撞和反弹

## 自定义参数
在 `GlassBallsScene.swift` 中可以调整：
- `ballCount`: 球的数量（默认8个）
- `ballRadius`: 球的半径（默认40）
- `restitution`: 反弹系数（默认0.8）
- `gravityScale`: 重力强度（默认9.8）

## 注意事项
- 需要在真机上运行才能体验陀螺仪效果
- 模拟器不支持陀螺仪传感器
- 首次运行会请求运动和健身权限，需要允许

## 性能优化建议
- 球的数量建议不超过15个以保持流畅度
- 在低端设备上可以降低物理更新频率
- 减少高光和阴影效果可提升性能

## 版本要求
- iOS 15.0+
- Xcode 14.0+
- Swift 5.7+
