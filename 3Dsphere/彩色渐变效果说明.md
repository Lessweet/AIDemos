# 流动彩色渐变球体 - 更新说明

## 新增功能

球体已从单色玻璃效果升级为**流动的彩虹渐变**效果！

## 效果特点

### 1. 彩虹渐变色
球体表面呈现 7 种颜色的平滑过渡：
- 粉红 → 橙色 → 黄色 → 青绿 → 天蓝 → 紫色 → 粉红（循环）

### 2. 流动动画
渐变色会持续**从左向右流动**，就像彩色液体在球体表面流淌：
- 流动速度：每 3 秒完成一次循环
- 无缝循环，永不停止

### 3. 半透明玻璃质感
- 透明度：70%
- 可以看到球体内部的彩色光晕
- 自发光效果增强视觉冲击力

## 技术实现

### 渐变纹理生成
使用 `UIGraphicsImageRenderer` 创建 512x512 的彩虹渐变图像

### 流动动画
通过 `CABasicAnimation` 动画化材质的 `contentsTransform` 属性：
- 纹理坐标持续平移
- 配合 `.repeat` 纹理包裹模式实现无缝循环

### 材质配置
```swift
material.diffuse.contents = gradientTexture  // 基础渐变
material.emission.contents = gradientTexture // 自发光渐变
material.transparency = 0.7                  // 半透明
```

## 自定义配置

### 修改流动速度
编辑 `SphereScene.swift:302` 行：
```swift
animation.duration = 3.0  // 改为 1.0 = 更快，6.0 = 更慢
```

### 修改渐变颜色
编辑 `SphereScene.swift:96-103` 行的颜色数组：
```swift
let colors = [
    UIColor(red: 1.0, green: 0.0, blue: 0.0, alpha: 1.0).cgColor,  // 红色
    UIColor(red: 0.0, green: 1.0, blue: 0.0, alpha: 1.0).cgColor,  // 绿色
    UIColor(red: 0.0, green: 0.0, blue: 1.0, alpha: 1.0).cgColor,  // 蓝色
    // 添加更多颜色...
]
```

### 修改流动方向
编辑 `SphereScene.swift:298` 行：
```swift
// 从左向右流动（当前）
let transform = CATransform3DMakeTranslation(1.0, 0, 0)

// 从右向左流动
let transform = CATransform3DMakeTranslation(-1.0, 0, 0)

// 从上向下流动
let transform = CATransform3DMakeTranslation(0, 1.0, 0)

// 对角线流动
let transform = CATransform3DMakeTranslation(1.0, 1.0, 0)
```

### 修改透明度
编辑 `SphereScene.swift:68` 行：
```swift
material.transparency = 0.7  // 0.0 = 完全不透明，1.0 = 完全透明
```

## 运行项目

1. 在 Xcode 中打开 `Sphere3D.xcodeproj`
2. 选择 iPhone 模拟器（避免真机安装限制）
3. 按 **Cmd + R** 运行
4. 观看流动的彩虹球体！

## 视觉效果预期

- ✨ 彩虹色从球体左侧流向右侧
- ✨ 球体自转时，渐变随之旋转
- ✨ 半透明玻璃质感，内部有发光效果
- ✨ 拖动时流动动画继续进行
- ✨ 切换不规则球体时，渐变效果保持

---

**提示**：在真机上效果会比模拟器更流畅！
